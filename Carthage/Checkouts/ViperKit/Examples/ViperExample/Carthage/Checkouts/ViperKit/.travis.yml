language: objective-c
osx_image: xcode7.3
xcode_project: Framework/ViperKit.xcodeproj
xcode_scheme: ViperKit
xcode_sdk: iphonesimulator9.3
env:
  global:
  - FRAMEWORK_NAME=ViperKit
before_install:
- brew update
- brew outdated carthage || brew upgrade carthage
before_script:
- carthage bootstrap
before_deploy:
- carthage build --no-skip-current
- carthage archive $FRAMEWORK_NAME
deploy:
  provider: releases
  api_key:
    secure: sXFTHsdHwqNVMtYAZ07m8HBG5qngNMSRWb6US/Ett+PCZ9UW0l9ELoMJ/hUd1xX6zUid8xUWBXEtB0sicl4S9MtqRcpMZYk1oq8fmJbBZw0TJHnCr28n1aFWQsT4X5vD4fX1dVADdJgfLVsbp5oIepYvwuaxU+pRiWmKRre9sO2u2oROuy8EGBlohjm8Q3mFxvZM8R8Xzq/c8D93qYovOG+78P6eOvMGveCBaIGSjXNd8HqioysRL+/FXc3etQ5jTIROR1UOVjAfrzVO2fRFiDSiiXg4Lyw9eigZUhHb3AdKJOv7QwOVL6zAfId0vih7Dxc0AVuzpbJ0oUYi68PrORYxQ5bxQVEYF2MWe6yrc6MT8ylTbTDLb8dbh3B/IBgbkxHRS9WL0pxX51TtCNWaXLTxw5tbeRq5u3MRNJZCFMAfKJmwlRCdhhpEj1rqWwNgZXfwF1BrGt8H42NCxfGrl5/BlNuxZN8e0/fsKMHpKoXLSkkEA4/WgbpJ/Twvx2V5plbKIM/FJuoJ0+l84hBPaPP06pxGYmpsW0XAGE5az8aQ6swIZghPsf+Ygh6RFZgmOnoKOXE180OEunX4qTuybySxi0iUPiFG/7xJrTPPWKolQwzbtwhdnfAqaC93g7WKAMzUaOw4DYHRyBQqkQCjlj/w9rPmnlIL+RO8eOxhPrk=
  file: "$FRAMEWORK_NAME.framework.zip"
  on:
    repo: MaksimBazarov/ViperKit
    tags: true
    condition: "$TRAVIS_TAG =~ ^v*$"